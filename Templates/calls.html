{% extends 'base.html' %}

{% block content %}
  <h1>Call Log</h1>

  <form method="post">
    {{ form.csrf_token }}
  <table class="table">
    <thead>
      <tr>
        <th>Date</th>
        <th>Time</th>
        <th>Customer Name</th>
        <th>Phone Number</th>
        <th>Community</th>
        <th>Area</th>
        <th>Address</th>
        <th>Customer Type</th>
        <th>Call Type</th>
        <th>Comments</th>
        <th>Received Type</th>
        <th>Response</th>
        <th>Card</th>
        <th>Database</th>
        <th>Resolved</th>
        <th>Booked</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for call in calls %}
        <tr>
            <td><input type="date" name="date_{{ call.id }}" value="{{ call.date }}"></td>
            <td><input type="time" name="time_{{ call.id }}" value="{{ call.time }}"></td>
            <td><input type="text" name="customer-name_{{ call.id }}" value="{{ call.customer_name }}"></td>
            <td><input type="text" name="phone_number_{{ call.id }}" value="{{ call.phone_number }}"></td>
            <td><input type="text" name="community_{{ call.id }}" value="{{ call.community }}"></td>
            <td><input type="text" name="area_{{ call.id }}" value="{{ call.area }}"></td>
            <td><input type="text" name="address_{{ call.id }}" value="{{ call.address }}"></td>
            <td><input type="text" name="customer_type_{{ call.id }}" value="{{ call.customer_type }}"></td>
            <td><input type="text" name="call_type_{{ call.id }}" value="{{ call.call_type }}"></td>
            <td><input type="text" name="comments_{{ call.id }}" value="{{ call.comments }}"></td>
            <td><input type="text" name="received_type_{{ call.id }}" value="{{ call.received_type }}"></td>
            <td><input type="text" name="response_{{ call.id }}" value="{{ call.response }}"></td>
            <td><input type="text" name="card_{{ call.id }}" value="{{ call.card }}"></td>
            <td><input type="text" name="database_{{ call.id }}" value="{{ call.database }}"></td>
            <td><input type="text" name="resolved_{{ call.id }}" value="{{ call.resolved }}"></td>
            <td><input type="text" name="booked_{{ call.id }}" value="{{ call.booked }}"></td>
            <td><a href="{{ url_for('edit_call', id=call.id) }}" class="btn btn-sm btn-primary">Edit</a></td>
        </tr>
      {% endfor %}
        <tr>
          <td>{{ form.date }}</td>
          <td>{{ form.time }}</td>
          <td>{{ form.customer_name }}</td>
          <td>{{ form.phone_number }}</td>
          <td>{{ form.community }}</td>
          <td>{{ form.area }}</td>
          <td>{{ form.address }}</td>
          <td>{{ form.customer_type }}</td>
          <td>{{ form.call_type }}</td>
          <td>{{ form.comments }}</td>
          <td>{{ form.received_type }}</td>
          <td>{{ form.response }}</td>
          <td>{{ form.card }}</td>
          <td>{{ form.database }}</td>
          <td>{{ form.resolved }}</td>
          <td>{{ form.booked }}</td>
          <td><button type="submit">Save</button></td>
        </tr>
    </tbody>
  </table>
  
</form>
{% endblock %}